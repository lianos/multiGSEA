<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>(Re)-map geneset IDs to the rows in an expression object. — conform • multiGSEA</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="(Re)-map geneset IDs to the rows in an expression object. — conform" />
<meta property="og:description" content="conform-ing, a GeneSetDb to a target expression
object is an important step required prior to perform any type of GSEA. This
function maps the featureIds used in the GeneSetDb to the elements of a
target expression object (ie. the rows of an expression matrix, or the
elements of a vector of gene-level statistics).
After conform-ation, each geneset in the GeneSetDb is flagged
as active (or inactive) given the number of its features that are
successfully mapped to target and the minimum and maximum number of
genes per geneset required as specified by the min.gs.size and
max.gs.size parameters, respectively.
Only genesets that are marked with active = TRUE will be used in any
downstream gene set operations." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multiGSEA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.13.17</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/multiGSEA.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>(Re)-map geneset IDs to the rows in an expression object.</h1>
    
    <div class="hidden name"><code>conform.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>conform</code>-ing, a <code>GeneSetDb</code> to a target expression
object is an important step required prior to perform any type of GSEA. This
function maps the featureIds used in the GeneSetDb to the elements of a
target expression object (ie. the rows of an expression matrix, or the
elements of a vector of gene-level statistics).</p>
<p>After <code>conform</code>-ation, each geneset in the <code>GeneSetDb</code> is flagged
as active (or inactive) given the number of its features that are
successfully mapped to <code>target</code> and the minimum and maximum number of
genes per geneset required as specified by the <code>min.gs.size</code> and
<code>max.gs.size</code> parameters, respectively.</p>
<p>Only genesets that are marked with <code>active = TRUE</code> will be used in any
downstream gene set operations.</p>
    </div>

    <pre class="usage"><span class='fu'>conform</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>unconform</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for GeneSetDb</span>
<span class='fu'>conform</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>target</span>,
  unique.by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"none"</span>, <span class='st'>"mean"</span>, <span class='st'>"var"</span><span class='op'>)</span>,
  min.gs.size <span class='op'>=</span> <span class='fl'>2L</span>,
  max.gs.size <span class='op'>=</span> <span class='cn'>Inf</span>,
  match.tolerance <span class='op'>=</span> <span class='fl'>0.25</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S4 method for GeneSetDb</span>
<span class='fu'>unconform</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>is.conformed</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>to</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>The GeneSetDb</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>moar args</p></td>
    </tr>
    <tr>
      <th>target</th>
      <td><p>The expression object/matrix to conform to. This could also
just be a character vector of IDs.</p></td>
    </tr>
    <tr>
      <th>unique.by</th>
      <td><p>If there are multiple rows that map to the identifiers used
in the genesets, this is a means to pick the single row for that ID</p></td>
    </tr>
    <tr>
      <th>min.gs.size</th>
      <td><p>Ensure that the genesets that make their way to the
<code>GeneSetDb@table</code> are of a minimum size</p></td>
    </tr>
    <tr>
      <th>max.gs.size</th>
      <td><p>Ensure that the genesets that make their way to the
<code>GeneSetDb@table</code> are smaller than this size</p></td>
    </tr>
    <tr>
      <th>match.tolerance</th>
      <td><p>Numeric value between [0,1]. If the fraction of
<code>feature_id</code>s used in <code>x</code> that match <code><a href='https://rdrr.io/r/base/colnames.html'>rownames(y)</a></code> is below
this number, a warning will be fired.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A  <code><a href='GeneSetDb-class.html'>GeneSetDb()</a></code> that has been matched/conformed to an expression
object target <code>y</code>.</p>
    <h2 class="hasAnchor" id="related-functions"><a class="anchor" href="#related-functions"></a>Related Functions</h2>

    

<ul>
<li><p><code>unconform()</code>: Resets the conformation mapping.</p></li>
<li><p><code>is.conformed()</code>: If <code>to</code> is missing, looks for evidence that <code>conform</code> has
been called (at all) on <code>x</code>. If <code>to</code> is provided, specifically checks that
<code>x</code> has been conformed to the target object <code>to</code>.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>es</span> <span class='op'>&lt;-</span> <span class='fu'><a href='exampleExpressionSet.html'>exampleExpressionSet</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>gdb</span> <span class='op'>&lt;-</span> <span class='fu'><a href='exampleExpressionSet.html'>exampleGeneSetDb</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'><a href='geneSets.html'>geneSets</a></span><span class='op'>(</span><span class='va'>gdb</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   collection                                          name active  N  n
#&gt; 1         c2                        BIOCARTA_AGPCR_PATHWAY  FALSE 13 NA
#&gt; 2         c2         BOYAULT_LIVER_CANCER_SUBCLASS_G123_DN  FALSE 51 NA
#&gt; 3         c2               BURTON_ADIPOGENESIS_PEAK_AT_2HR  FALSE 51 NA
#&gt; 4         c2        BYSTRYKH_HEMATOPOIESIS_STEM_CELL_IL3RA  FALSE  9 NA
#&gt; 5         c2             CAIRO_PML_TARGETS_BOUND_BY_MYC_UP  FALSE 23 NA
#&gt; 6         c2 CHARAFE_BREAST_CANCER_BASAL_VS_MESENCHYMAL_DN  FALSE 50 NA</div><div class='input'><span class='va'>gdb</span> <span class='op'>&lt;-</span> <span class='fu'>conform</span><span class='op'>(</span><span class='va'>gdb</span>, <span class='va'>es</span><span class='op'>)</span>
<span class='co'>## Note the updated values `active` flag, and n (the number of features</span>
<span class='co'>## mapped per gene set)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'><a href='geneSets.html'>geneSets</a></span><span class='op'>(</span><span class='va'>gdb</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   collection                                          name active  N  n
#&gt; 1         c2                        BIOCARTA_AGPCR_PATHWAY   TRUE 13 11
#&gt; 2         c2         BOYAULT_LIVER_CANCER_SUBCLASS_G123_DN   TRUE 51 41
#&gt; 3         c2               BURTON_ADIPOGENESIS_PEAK_AT_2HR   TRUE 51 50
#&gt; 4         c2        BYSTRYKH_HEMATOPOIESIS_STEM_CELL_IL3RA   TRUE  9  6
#&gt; 5         c2             CAIRO_PML_TARGETS_BOUND_BY_MYC_UP   TRUE 23 23
#&gt; 6         c2 CHARAFE_BREAST_CANCER_BASAL_VS_MESENCHYMAL_DN   TRUE 50 45</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steve Lianoglou, Denali Therapeutics, Genentech.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


